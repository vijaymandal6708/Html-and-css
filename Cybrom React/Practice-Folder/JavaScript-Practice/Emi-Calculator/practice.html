<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        table{
            width: 100%;
            text-align: center;
        }
    </style>
</head>
<body>
   <form id="balanceForm">
     <input type="number" id="balanceInput" placeholder="Enter amount here" required />
     <button type="submit">Add Balance</button>
   </form>
   <br>
   <hr>
   <br>
   
   <form id="expenseForm">
    <input type="date" id="date" required>
    <input type="text" id="desc" placeholder="Description" required>
    <input type="number" id="amount" placeholder="Amount" required>
    <button type="submit">Add Expense</button>
   </form>
   <br> <br>

   <div class="summary">
    <h3>Total Expense: <span id="total">0</span></h3>
    <h3>Balance Left: <span id="balanceLeft">0</span></h3>
   </div>

   <table>
    <thead>
        <tr>
            <th>Date</th>
            <th>Description</th>
            <th>Amount</th>
            <th>Delete</th>
        </tr>
    </thead>
    <tbody id="tbody"></tbody>
   </table>

   <script>
    const balanceForm = document.getElementById('balanceForm');
    const balanceInput = document.getElementById('balanceInput');
    const expenseForm = document.getElementById('expenseForm');
    const dateEl = document.getElementById('date');
    const descEl = document.getElementById('desc');
    const amountEl = document.getElementById('amount');
    const tbody = document.getElementById('tbody');
    const totalEl = document.getElementById('total');
    const balanceLeftEl = document.getElementById('balanceLeft');

    let balance = 0;
    let total = 0;

    function updateSummary(){
        totalEl.textContent = total;
        balanceLeftEl.textContent = balance - total;
    }

    balanceForm.addEventListener('submit', (e) => {
        e.preventDefault();
        const add = Number(balanceInput.value) || 0;
        balance += add;
        balanceInput.value = '';
        updateSummary()
    })

    expenseForm.addEventListener('submit', (e) => {
        e.preventDefault();

        const expense = {
            date: dateEl.value,
            desc: descEl.value.trim(),
            amount: Number(amountEl.value) || 0
        };

        if(expense.amount <= 0) return;

        total += expense.amount;

        const tr = document.createElement('tr');
        tr.innerHTML = `
        <td>${expense.date}</td>
        <td>${expense.desc}</td>
        <td>${expense.amount}</td>
        <td><button class="delete">Delete</button></td>
        `;

        tr.dataset.amount = String(expense.amount);

        tr.querySelector('.delete').addEventListener('click', ()=> {
           const amt = Number(tr.dataset.amount) || 0;
           total -= amt;
           tr.remove();
           updateSummary(); 
        });

        tbody.appendChild(tr);
        updateSummary();
        expenseForm.reset();
    });

    updateSummary();

   </script>
</body>
</html>